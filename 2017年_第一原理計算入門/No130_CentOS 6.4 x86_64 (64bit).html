<p>　ここではCentOS 6.4 x86_64 minimal Desktop をインストールし、第一原理計算コードをセットアップするまでを解説する。<br />
------------------------------------------------------------------------------<br />
CentOS 6.4 x84_64<br />
(CPU: Intel(R) Core(TM)i7-2700K)<br />
（日本語を選択してOSをインストールして下記の動作を確認。しかし、英語の選択を推奨します）<br />
1. minimal Desktop で開発ツール（Development Tools), NFS server and WEB server にチェックを入れてインストール<br />
2. download<br />
&nbsp;&nbsp; for WIEN2k<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install emacs<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install gnuplot<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install tcl<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install tk<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install perl<br />
&nbsp;&nbsp; other good tool<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install gedit (CentOS 6.4)<br />
&nbsp;&nbsp;&nbsp;&nbsp; yum install gnome-system-monitor<br />
3. Adobe Reader<br />
1) su<br />
2) password<br />
3) rpm -ivh http://linuxdownload.adobe.com/adobe-release/adobe-release-i386-1.0-1.noarch.rpm<br />
4) rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-adobe-linux<br />
5) yum install nspluginwrapper.i686 AdobeReader_enu<br />
6) yum list AdobeReader*<br />
------------------------------------------------------------------------------<br />
■ Intel(R) Composer XE 2013のインストールと環境設定<br />
□ インストール<br />
1. tar zxvf parallel_studio_xe_2013_update3_intel64.tgz<br />
2. cd parallel_studio_xe_2013_update3_intel64<br />
3. ./install.sh<br />
4. 後は表示される英文に従っていく。<br />
□ 環境設定 ( .bashrc in home and root directory )<br />
# Intel Compiler ( Fortran &amp; C++ ) environmental setting<br />
export PATH=$PATH:/opt/intel/vtune_amplifier_xe_2013<br />
export PATH=$PATH:/opt/intel/inspector_xe_2013<br />
source /opt/intel/bin/compilervars.sh intel64<br />
□<br />
1. ifort -help &gt; ifort_option.txt<br />
2. Please, see ifort_option.txt<br />
□ fftw3xf_intel.a のコンパイル<br />
0. bash<br />
1. cd /opt/intel/composer_xe_2013/mkl/interfaces/fftw3xf/<br />
2. su<br />
3. make libintel64 compiler=intel<br />
------------------------------------------------------------------------------<br />
■ OpenMPI<br />
□ インストール<br />
1) <a href="http://www.open-mpi.org/">http://www.open-mpi.org/</a><br />
2) tar zxvf openmpi-1.4.5.tar.gz<br />
3) cd openmpi-1.4.5<br />
4) コンパイラにより下記のように設定<br />
Intel Compiler の場合<br />
./configure -prefix=/usr/local/openmpi CXX=icpc CC=icc FC=ifort F90=ifort F77=ifort<br />
5) make<br />
6) su<br />
7) make all install<br />
□ 環境設定 ( .bashrc in home and root directory )<br />
# OpenMPI environmental setting<br />
export MPIROOT=/usr/local/openmpi<br />
export PATH=$MPIROOT/bin:$PATH<br />
export LD_LIBRARY_PATH=$MPIROOT/lib:$LD_LIBRARY_PATH<br />
export MANPATH=$MPIROOT/share/man:$MANPATH<br />
------------------------------------------------------------------------------<br />
■ VASPのインストール<br />
■ makefile の編集<br />
OpenMP+OpenMPIは下記の2つのHPを参考にすると良い。<br />
<a href="http://cms.mpi.univie.ac.at/wiki/index.php/Installing_VASP">http://cms.mpi.univie.ac.at/wiki/index.php/Installing_VASP</a>&nbsp;<br />
<a href="http://locs.bw.nitech.ac.jp/~kobayashi/fswiki/wiki.cgi?page=VASP%B4%D8%CF%A2">http://locs.bw.nitech.ac.jp/~kobayashi/fswiki/wiki.cgi?page=VASP%B4%D8%CF%A2</a><br />
A. vasp.5.lib のコンパイル<br />
1. tar zxvf vasp.5.lib.tar.gz<br />
2. cd vasp.5.lib<br />
3. cp makefile.linux_ifc_P4 makefile<br />
4. emacs などで makefile を開いて、<br />
&nbsp;&nbsp; gccをicc、ifc を ifort<br />
&nbsp;&nbsp; CC = icc<br />
&nbsp;&nbsp; CFLAGS = -O -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2<br />
&nbsp;&nbsp; FFLAGS = -O0 -FI -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2<br />
&nbsp;&nbsp; にして保存<br />
5. make<br />
--------------------------------------------------------------------<br />
B. vasp.5.2 のコンパイル<br />
1. tar zxvf vasp.5.2.12.tar.gz<br />
2. cd vasp.5.2<br />
3. cp makefile.linux_ifc_P4 makefile<br />
4. emcacs などで makefile を開く<br />
&nbsp; 1) ifc を ifort に書き換える<br />
&nbsp; 2) FFLAGS = -free -names lowercase -assume byterecl<br />
&nbsp; 3) OFLAG=-O2 -ip -ftz -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2<br />
&nbsp; 4) BLAS= -L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t \<br />
-lmkl_blas95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core \<br />
-liomp5 -lpthread -lm<br />
&nbsp; 5) LAPACK= -L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t \<br />
-lmkl_lapack95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core \<br />
-liomp5 -lpthread -lm<br />
&nbsp; 6) FFT3D= fftw3d.o fftw3dlib.o \<br />
/opt/intel/composer_xe_2013/mkl/interfaces/fftw3xf/libfftw3xf_intel.a<br />
&nbsp; # fortran linker for mpi 以降<br />
&nbsp; 7) FC= mpif90 -openmp<br />
&nbsp; 8) FCL= $(FC) -mkl<br />
&nbsp; 9) CPP = $(CPP_) -DMPI -DHOST=\&quot;LinuxIFC\&quot; -DIFC \<br />
-DCACHE_SIZE=4000 -DPGF90 -Davoidalloc -DNGZhalf \<br />
-DMPI_BLOCK=8000 -DPROFILING<br />
# -DRPROMU_DGEMV -DRACCMU_DGEMV<br />
&nbsp; 10) SCA= /opt/intel/composer_xe_2013/mkl/lib/intel64/libmkl_scalapack_lp64.a \<br />
/opt/intel/composer_xe_2013/mkl/lib/intel64/libmkl_blacs_openmpi_lp64.a<br />
&nbsp; 11) LIB= -L../vasp.5.lib -ldmy \<br />
../vasp.5.lib/linpack_double.o $(LAPACK) \<br />
$(SCA) $(BLAS)<br />
&nbsp; 12) FFT3D= fftmpiw.o fftmpi_map.o fftw3d.o fft3dlib.o \<br />
/opt/intel/composer_xe_2013/mkl/interfaces/fftw3xf/libfftw3xf_intel.a<br />
5. make<br />
※ link option: Please, see<br />
/opt/intel/composer_xe_2013/Documentation/ja_JP/mkl/mkl_link_line_advisor.htm<br />
or<br />
file:///opt/intel/composer_xe_2013/Documentation/ja_JP/mkl/mkl_userguide/index.htm#GUID-F6E3AD73-ED3F-499E-A125-9570533F7B53.htm<br />
※ -axCORE-AVX-I,CORE-AVX2,AVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2 は自動で、そのCPUに最適なSSE命令の設定を行ってくれるオプションの指定方法。SSE: http://sourceforge.jp/magazine/09/09/07/0257257, AVX: http://www.isus.jp/article/compileroptimization/avx_part1/ などに説明がある。<br />
--------------------------------------------------------------------<br />
■ 入力ファイル<br />
A. 必要な4つの入力ファイル （Input filesでの[1-6]を参照すると良い)<br />
以下の4つのファイルが必要になる。<br />
・ INCAR<br />
・ POSCAR<br />
・ POTCAR<br />
・ KPOINTS<br />
B. INCAR<br />
・ 入力に必要なtagは下記のVASP manual を参照すればよい。<br />
http://cms.mpi.univie.ac.at/vasp/vasp.pdf　<br />
tag の部分を読む。必要ならば Ctrl + F でXXX-tag として検索（XXXはtagの名称）。Default: の次の行はtagが記述されなかった場合のディフォルトの値。vasp5ではECUTやGGAなどもPOTCARから自動で読まれる。どのようなtagの値になっているかはOUTCARで確認できる。<br />
C. POSCAR<br />
・ 構造最適化を行う場合に、動かしたい原子に対して、T T Tを記述する（Tは動かす。Fは動かさない）。例えば下記のようになる（Directの次の行から座標と緩和の有無が記述される）。<br />
0.5000 0.5000 0.5000 T T T<br />
D. POTCAR<br />
・ 複数のポテンシャルを入力する場合は、End of Datasetの直ぐ次の行にポテンシャルを記述する。<br />
・ ポテンシャルを記述する順番は、POSCARファイルと同じ順番にする。<br />
E. KPOINTS<br />
--------------------------------------------------------------------<br />
■ 実行方法<br />
Core i7-2700Kの場合（もっとも計算速度が速い指定）: mpirun -np 4 vasp<br />
<a href="http://cms.mpi.univie.ac.at/wiki/index.php/Hybrid_openMPI/openMP_parallelization">http://cms.mpi.univie.ac.at/wiki/index.php/Hybrid_openMPI/openMP_parallelization</a>&nbsp;<br />
--------------------------------------------------------------------<br />
■ Speed Check<br />
export OMP_NUM_THREADS=1<br />
mpirun -np 4 vasp<br />
grep LOOP+ OUTCAR<br />
Intel Core i7 920: Ge, (-np 4) 23.36 s / Ge, (single) 59.27 s ( FFT3D&nbsp; = fftmpiw.o fftmpi_map.o fftw3d.o fft3dlib.o /usr/local/lib/libfftw3.a )<br />
Intel Core i7-2700K: Ge, (-np 4) 12.13 s / Ge, (single) 31.95 s<br />
Intel Core i7-3770 : Ge, (-np 4) 11.55 s / Ge, (single) 31.75 s<br />
Intel Core i7-3820 : Ge, (-np 4) 11.28 s / Ge, (single) 31.33 s<br />
--------------------------------------------------------------------<br />
■ Warning, error, unit<br />
・ small aliasing (wrap around) errors must be expected でなくしたい場合は、 PREC=accurate へ<br />
--------------------------------------------------------------------<br />
■ bash script<br />
下記を参考にしてbash script を作れば連続的に計算ができる。<br />
#!/bin/bash<br />
export OMP_NUM_THREADS=1<br />
date<br />
cd /home/username/vasp_calc/Ge<br />
mpirun -np 4 /home/username/vasp.5.2/vasp<br />
date<br />
cd /home/username/vasp_calc/Si<br />
mpirun -np 4 /home/username/vasp.5.2/vasp<br />
date<br />
export OMP_NUM_THREADS=4<br />
上記のテキストを作ったら、好きな名称で保存し、右クリック&rarr;プロパティ&rarr;アクセス権&rarr;プログラムとして実行できるにチェックを入れる。出来たファイルを左でダブルクリックしたり、Terminal 上で作成したテキストの名称を入力すればよい。<br />
--------------------------------------------------------------------<br />
cif2cell<br />
PyCifRW library のインストール　（cif2cell インストールの準備1）<br />
yum install python-setuptools<br />
yum install python-devel<br />
<br />
PyCifRW library のインストール　（cif2cell インストールの準備2）<br />
PyCifRW-3.3.tar.gz<br />
1) tar zxvf PyCifRW-3.3.tar.gz<br />
2) cd PyCifRW-3.3<br />
3) su<br />
4) python setup.py install<br />
<br />
cif2cell のインストール　<br />
1) tar zxvf cif2cell-1.0.10.tar.gz<br />
2) cd cif2cell-1.0.10<br />
3) su<br />
4) python setup.py install<br />
<br />
cif2cell の環境設定<br />
.bashrc に下記を書き込む。<br />
#cif2cell<br />
export CIF2CELL=$HOME/cif2cell-1.0.10<br />
PATH=&quot;$PATH:$CIF2CELL&quot;<br />
<br />
cif2cell の使用方法<br />
a) VASP: cif2cell -p vasp -f Ni20Mn3P6.cif --setup-all --no-reduce&nbsp;--vasp-print-species --vasp-cartesian-lattice-vectors --vasp-pseudo-libdr=$HOME/vasp/potpaw_PBE --vasp-format=5.<br />
&nbsp; エラーが表示されるが、INCAR 以外は生成されている。<br />
&nbsp; ※ KPOINTS は、2x2x2のスーパーセルの場合、Gamma を Monkhorst Pack にして、grid を 4 4 4 にすると良いだろう。<br />
b) ABINIT: cif2cell -p abinit -f SrTiO3.cif -o SrTiO3.in<br />
c) exciting: cif2cell -p exciting -f SrTiO3.cif<br />
d) Fleur: cif2cell -p fleur -f SrTiO3.cif<br />
e) elk: cif2cell -p elk -f SrTiO3.cif<br />
f) CPMD: cif2cell -p cpmd -f SrTiO3.cif -o SrTiO3.inp<br />
g) CASTEP: cif2cell -p castep -f SrTiO3.cif -o SrTiO3.cell<br />
※ cif2cell -h でヘルプを表示。<br />
※ conventional unit cell の場合: --no-reduce を最後に付ける。<br />
学習（学生向け）:http://www.geocities.jp/gchembio/kb2/pdf/2011_kb2_lecture_2.pdf<br />
※ ファイル名を変える場合: -o 別のファイル名<br />
※ cifs 中に 動作テスト用の cif ファイルが入れられている。<br />
※ cif 形式でも受け付けないことがあるので、VESTAに入れて cif 形式で書き出すとよい。<br />
※ --no-reduce のオプションを用いるとconventiuonal cell になる。<br />
error case<br />
A. Error: could not read case.cif. では_cgraph_comments に改行があるとエラーが表示される。ここにはICSD のタイトルが格納される。<br />
B. Error: cell setup: Insufficient symmetry information to reduce to primitive cell (need space group number or Hermann-Mauguin symbol). では _symmetry_Int_Tables_number 空間群の数値　書き入れるとことで対処できる。<br />
--------------------------------------------------------------------<br />
GUI for VASP　（期限が切れたら使えなくなった）<br />
Virtual NanoLab (下記はWindows7 64bit で行った結果)<br />
1. download: http://quantumwise.com/products/free-trial<br />
2. Demo version をインストール<br />
3. atk-12.8.2-windows64 を実行<br />
4. 幾つか進めていき、clear を選択<br />
5. Virtual NanoLab を実行<br />
6. Help &rarr; AddOn Manager...... &rarr; VASPScripter &rarr; Install &rarr; Refresh<br />
7. Tools &rarr; Custum Scripter...... &rarr; Scripters &rarr; VASP Scripter<br />
※ http://quantumwise.com/documents/tutorials/latest/VASPScripter/index.html/chap.setup.html に従っていくとよい（説明にあるようにDatabaseとVASP Scripter 二つを開いておけれる）。<br />
--------------------------------------------------------------------<br />
初期構造予測用の計算コード<br />
A. USPEX: <a href="http://han.ess.sunysb.edu/~USPEX/uspex.html">http://han.ess.sunysb.edu/~USPEX/uspex.html</a><br />
B. CALYPSO: <a href="http://www.calypso.cn/">http://www.calypso.cn/</a><br />
------------------------------------------------------------------------------<br />
■ WIEN2kのインストール<br />
FFTW3 for WIEN2k<br />
1) tar zxvf fftw-3.3.3.tar.gz<br />
2) cd fftw-3.3.3<br />
4) export CC=&quot;icc -m64 -O2 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2&quot;<br />
5) export MPICC=&quot;mpicc -m64 -O2 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2&quot;<br />
6) export F77=&quot;ifort -mcmodel=large -O2 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2&quot;<br />
7) ./configure --enable-mpi --enable-threads --enable-openmp<br />
8) make<br />
9) su<br />
10) make install<br />
--------------------------------------------------------------------<br />
WIEN2k<br />
1) mkdir WIEN2k_12<br />
2) cd WIEN2k_12<br />
3) cp $HOME/Downloads/WIEN2k_12.tar .<br />
4) tar -xvf WIEN2k_12.tar<br />
5) gunzip *.gz<br />
6) chmod +x ./expand_lapw<br />
7) ./expand_lapw<br />
8) ./siteconfig_lapw<br />
&nbsp;&nbsp; 1. O Compiler options: -FR -mp1 -w -prec_div -pc80 -pad -align -DINTEL_VML -traceback -axAVX,SSE4.2,SSE4.1,SSSE3,SSE3<br />
OpenSSH and OpenMPI setting<br />
&nbsp;&nbsp; 2. Shared Memory Architecture? (y/n):y<br />
&nbsp;&nbsp; 3. (like taskset -c). Enter N / your_specific_command:<br />
&nbsp;&nbsp; 4. Set MPI_REMOTE to 0 / 1:<br />
&nbsp;&nbsp; 5. Your compiler: mpif90<br />
&nbsp;&nbsp; 6. RP RP_LIB(SCALAPACK+PBLAS): -lmkl_scalapack_lp64 -lmkl_blacs_openmpi_lp64 -L/usr/local/lib -lfftw3_mpi -lfftw3_omp -lfftw3_threads -lfftw3 $(R_LIBS)<br />
&nbsp;&nbsp; 7. FP&nbsp; FPOPT(par.comp.options): -FR -mp1 -w -prec_div -pc80 -pad -ip -DINTEL_VML -DFFTW3 -traceback -axAVX,SSE4.2,SSE4.1,SSSE3,SSE3<br />
※ 1-3の手順が無いとOpenSSHでの認証などでエラーが出る。SSH関連でエラーが出る場合にはこれに注意すると良い。<br />
9) ./userconfig<br />
10) bash<br />
11) w2web<br />
CentOS 6.4 x86_64 niminal Desktop で下記の問題が生じた。開発ツール以外に、NFT server と web server にもチェックを入れると正常動作するかもしれない（127.0.0.1:7890 でなくてもGUIが動作したPCがある）。<br />
1. hostname -f の -f でエラーが表示される。<br />
2. <a href="http://www.misasa.okayama-u.ac.jp/~masami/pukiwiki/index.php?Wien2K_5%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB%">http://www.misasa.okayama-u.ac.jp/~masami/pukiwiki/index.php?Wien2K_5%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB%</a> A5%E1%A5%E2 のw2webの設定が参考になる。<br />
A. WIEN2kをダウンロードしたファイルの中にある SRC_w2web の w2web で hostname -f の -fを削除。<br />
B. WIEN2kをダウンロードしたファイルの中にある SRC_w2web の bin の w2web で hostname -f の -f を削除。<br />
3. w2web が終了後にアドレスが示される。<br />
4. 127.0.0.1:7890 または PCに設定したIPアドレス:7890 を firefox などの URLに入力することでGUIが動作する。<br />
--------------------------------------------------------------------<br />
BoltzTraP<br />
1. tar xvf BoltzTraP.tar.bz2<br />
2. cd boltztrap-1.2.2/src<br />
3. emacs Makefile<br />
&nbsp;&nbsp; FC=ifort<br />
&nbsp;&nbsp; FOPT = -FR -mp1 -w -prec_div -pc80 -pad -align -DINTEL_VML -traceback -axAVX,SSE4.2,SSE4.1,SSSE3,SSE3<br />
&nbsp;&nbsp; LDFLAGS = $(FOPT) -L$(MKLROOT)/lib/$(MKL_TARGET_ARCH) -pthread<br />
&nbsp;&nbsp; LIBS = -lmkl_lapack95_lp64&nbsp;-lmkl_blas95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -openmp -lpthread<br />
4. make<br />
------------------------------------------------------------------------------<br />
■ phonopy install<br />
<a href="http://phonopy.sourceforge.net/install.html">http://phonopy.sourceforge.net/install.html</a><br />
<br />
1) install Phthon libraries<br />
yum install python-devel<br />
yum install numpy<br />
yum install python-matplotlib<br />
yum install python-lxml<br />
yum install scipy<br />
<br />
* python-yaml<br />
<a href="http://pkgs.org/centos-6-rhel-6/repoforge-x86_64/python-yaml-3.09-3.el6.rf.x86_64.rpm.html">http://pkgs.org/centos-6-rhel-6/repoforge-x86_64/python-yaml-3.09-3.el6.rf.x86_64.rpm.html</a><br />
A. download: <a href="http://apt.sw.be/redhat/el6/en/x86_64/rpmforge/RPMS/python-yaml-3.09-3.el6.rf.x86_64.rpm">python-yaml-3.09-3.el6.rf.x86_64.rpm</a><br />
B. su<br />
C. rpm -ivh python-yaml-3.09-3.el6.rf.x86_64.rpm<br />
<br />
2) download phonopy source code: <a class="reference external" href="https://sourceforge.net/projects/phonopy/">https://sourceforge.net/projects/phonopy/</a><br />
3) tar zxvf $HOME/Downloads/phonopy-1.6.4.tar.gz<br />
4) kwrite .bashrc<br />
&nbsp; export PYTHONPATH=$HOME/phonopy-1.6.4/lib64/python<br />
5) bash<br />
6) cd phonopy-1.6.4<br />
7) python setup.py install&nbsp; --home=.<br />
------------------------------------------------------------------------------<br />
■ WIEN2PHON &amp; PHON<br />
<br />
◆ WIEN2PHON<br />
1) mkdir WIEN2PHON<br />
2) cd WIEN2PHON<br />
3) tar zxvf $HOME/Downloads/WIEN2PHON.tar.gz<br />
4) cd WIEN2POSCAR<br />
5) emacs Makefile<br />
&nbsp; change ifc to ifort<br />
&nbsp; LDFLAGS = #-L/usr/local/Linux_P4SSE2/lib/ -Vaxlib<br />
6) make<br />
7) cd ..<br />
8) cd cellconv<br />
9) emacs Makefile<br />
&nbsp; change ifc to ifort<br />
&nbsp; LDFLAGS = #-L/usr/local/Linux_P4SSE2/lib/ -Vaxlib<br />
10) make<br />
* run<br />
1) cp case.struct $HOME/WIEN2PHON/WIEN2POSCAR<br />
2) WIEN2POSCAR ./case<br />
<br />
◆ PHON<br />
<a href="http://www.homepages.ucl.ac.uk/~ucfbdxa/phon/">http://www.homepages.ucl.ac.uk/~ucfbdxa/phon/</a><br />
1) mkdir PHON<br />
2) cd PHON<br />
3) tar zxvf $HOME/Downloads/phon.1.35.tar.Z<br />
4) cp ./incs/make.inc.linux_ifort ./make.inc<br />
5) emacs make.inc<br />
&nbsp; OFLAG&nbsp; = -O3 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2<br />
6) make<br />
* $HOME/PHON/src/phon<br />
------------------------------------------------------------------------------<br />
■ SPRKKRのインストール<br />
■ xband<br />
0) install<br />
&nbsp;&nbsp; yum install tk<br />
&nbsp;&nbsp; yum install tcl<br />
&nbsp;&nbsp; yum install tclx<br />
&nbsp;&nbsp; yum install gnuplot<br />
&nbsp;&nbsp; yum install xterm<br />
1) mkdir sprkkr<br />
2) cd sprkkr<br />
3) mkdir band<br />
4) cp $HOME/Downloads/xband_6.3.tar.gz ./band<br />
5) cd band<br />
6) tar -zxvf xband_6.3.tar.gz<br />
7) .bashrc に下記を加える<br />
export XBANDPATH=$HOME/sprkkr/band<br />
export PATH=$PATH:$XBANDPATH:<br />
export XLIB_SKIP_ARGB_VISUALS=1<br />
8) gfortran のコンパイルを用いている場合は下記のようにする。<br />
&nbsp;&nbsp; geometryのファイルでのmakefile：FC=ifort をFC=gfortran<br />
&nbsp;&nbsp; graphicのファイルでのmakefile：FC=ifort を FC=gfortran<br />
&nbsp;&nbsp; spheresのファイルでのmakefile：FC=ifort を FC=gfortran<br />
&nbsp;&nbsp; symmetryのファイルでのmakefile：FC=ifort を FC=gfortran<br />
9) bash<br />
10) xband<br />
--------------------------------------------------------------------<br />
■ SPRKKR 6.3<br />
1) unpack<br />
&nbsp; cp $HOME/Downloads/sprkkr6.3.2pub20121219.tgz ./sprkkr<br />
&nbsp; cd sprkkr<br />
&nbsp; tar -zxvf sprkkr6.3.2pub20121219.tgz<br />
2) cp make.inc_example make.inc<br />
3) kwrite make.inc<br />
&nbsp;&nbsp; ■ non parallel case<br />
&nbsp;&nbsp; □ Intel compiler version 2013 (64bit type)<br />
&nbsp;&nbsp;&nbsp;&nbsp; LIB=-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t \<br />
-lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_intel_lp64 \<br />
-lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm<br />
&nbsp;&nbsp;&nbsp;&nbsp; INCLUDE = -I/usr/local/openmpi/include<br />
&nbsp;&nbsp;&nbsp;&nbsp; FFLAGS = -O2 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2 \<br />
-diag-disable remark ### for ifort<br />
&nbsp; &nbsp;&nbsp; FC = ifort -c $(FFLAGS) $(INCLUDE)<br />
&nbsp; &nbsp;&nbsp; LINK = ifort $(FFLAGS) $(INCLUDE)<br />
&nbsp;&nbsp; ■ parallel case<br />
&nbsp;&nbsp; □ OpenMPI case<br />
&nbsp;&nbsp; &nbsp; LIB=-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t \<br />
-lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_intel_lp64 \<br />
-lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm<br />
&nbsp;&nbsp;&nbsp;&nbsp; INCLUDE = -I/usr/local/openmpi/include<br />
&nbsp;&nbsp;&nbsp;&nbsp; FFLAGS = -O2 -axAVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2 \<br />
-diag-disable remark ### for ifort<br />
&nbsp; &nbsp;&nbsp; FC = mpif90 -c $(FFLAGS) $(INCLUDE)<br />
&nbsp; &nbsp;&nbsp; LINK = mpif90 $(FFLAGS) $(INCLUDE)<br />
4) make scfmpi（single type: make scf )<br />
&nbsp;&nbsp; 上記の作業で binary が作成される。PCが 4 core の場合は下記となる<br />
&nbsp;&nbsp; mpirun -np 4 kkrscf6.3MPI *.inp &gt; OUTPUT<br />
5) この他にもプログラムを作成することができる<br />
&nbsp;&nbsp; a) make all<br />
&nbsp;&nbsp;&nbsp;&nbsp; gen, scf, embgen, embscf が作成される<br />
&nbsp;&nbsp; b) make allmpi<br />
&nbsp; &nbsp;&nbsp; scfmpi, embscfmpi, specmpi が作成される<br />
&nbsp;&nbsp; c) Makefile を見ると一応下記のコマンドがある<br />
&nbsp;&nbsp;&nbsp;&nbsp; make genmpi, make embscfmpi, make chi<br />
&nbsp;&nbsp;&nbsp;&nbsp; make opm, make opmmpi, make spec<br />
※ 再度コンパイルする場合には、再度コンパイルする前に make clean を入力。<br />
--------------------------------------------------------------------<br />
下記のHPにも利用方法が記述されている。<br />
[1] <a href="http://olymp.cup.uni-muenchen.de/index.php?option=com_remository&amp;Itemid=20&amp;func=startdown&amp;id=51&amp;lang=en">http://olymp.cup.uni-muenchen.de/index.php?option=com_remository&amp;Itemid=20&amp;func=startdown&amp;id=51&amp;lang=en</a> 　（終わりの方に xband の使い方が解説されている）<br />
[2] <a href="http://olymp.cup.uni-muenchen.de/index.php?option=com_content&amp;view=article&amp;id=22%3Aexamples&amp;catid=1&amp;Itemid=7&amp;lang=en">http://olymp.cup.uni-muenchen.de/index.php?option=com_content&amp;view=article&amp;id=22%3Aexamples&amp;catid=1&amp;Itemid=7&amp;lang=en</a><br />
[3] <a href="http://olymp.cup.uni-muenchen.de/index.php?option=com_content&amp;view=article&amp;id=10&amp;catid=4&amp;Itemid=7&amp;lang=en">http://olymp.cup.uni-muenchen.de/index.php?option=com_content&amp;view=article&amp;id=10&amp;catid=4&amp;Itemid=7&amp;lang=en</a><br />
--------------------------------------------------------------------<br />
■ SPRKKRの利用方法<br />
□ xband 6.3 を用いた方法<br />
灰色になって入力できなくなった場合には、unlockのボタンを押すとよい。<br />
1) cd band<br />
2) xband<br />
&nbsp;&nbsp; w_font_select で 0 font と表示される場合は、全て any にして、下の欄に表示される好きなフォンを選択して、accept を数回押してみるとよい。<br />
3) SET PREFERENCES のPROG_PATH0 -default path で、SPRKKRの実行ファイルが入っているフォルダを指定<br />
4) DIRECTORIES で計算する系のフォルダを指定する<br />
&nbsp;&nbsp; A. directry name に記入<br />
&nbsp;&nbsp; B. create new + chnage directry を押す<br />
&nbsp;&nbsp; C. close + create system を押すと CREATE SYSTEM になる<br />
5) CREATE SYSTEM を選択（ CIRECTORIES で close + create system を押すとここに移る）<br />
&nbsp;&nbsp; A. name of system-file でファイル名を入力<br />
&nbsp;&nbsp; B. Structure type か Space group のどちらかを入力<br />
&nbsp;&nbsp; C. set lattice parameter で a, b, c軸の格子定数を入力し、CONFIRMを押す<br />
&nbsp;&nbsp; D. Angstrom単位の場合は、convert を押して、bohr単位にする<br />
&nbsp;&nbsp; E. input OK---GO ON<br />
&nbsp;&nbsp; E. set up via Space Group で原子のサイトを選択する<br />
&nbsp;&nbsp; G. 各座標が書かれたラインを選択すると Specify occupation for site のパネルが出るので、specify occupant で原子を選択する<br />
&nbsp;&nbsp; H. suppress symmetry, set same R_WS for all spheres, adjust R_WS by scaling, (calculate R_WS + empty spheres)、show structure を押す<br />
&nbsp;&nbsp; I. Visualizer で表示したいソフトの選択をして、run visualizerを押す<br />
(case.xcrysdenなどが出来る。XCrySDenなどで開いてみるとよい)<br />
&nbsp;&nbsp; J. DONE - RETURN<br />
6) SELECT / MODIFY<br />
&nbsp;&nbsp; A. select directory で 計算する系のフォルダを指定する<br />
&nbsp;&nbsp; B. 右にあるfile list (.sys)を選択する<br />
&nbsp;&nbsp; C. 更に右に case.pot がある場合はそれも選択する<br />
&nbsp;&nbsp; D. close<br />
7) select and run program package<br />
&nbsp;&nbsp; A. SPR-KKRを選択<br />
&nbsp;&nbsp; B. select directroy で計算する系のフォルダを指定する<br />
&nbsp;&nbsp; C. system で、create input を押す<br />
&nbsp;&nbsp; D. Create input file で SCFやDOS, XAS(EXPERT MODEを押す, EKREL( band dispersion )を選択し、write inpfile quit を押す。<br />
&nbsp;&nbsp; E. select | edit input-file で case.inpを選択する<br />
SCF計算は case_SCF.inp, XAS計算はcase_XAS.inpになる<br />
&nbsp;&nbsp; F. SCF計算の場合は kkrscf, DOSやXASの場合はkkrgen を選択<br />
select program path でパスを指定し、create job file を選択する<br />
&nbsp; G. job-file menu が出来る<br />
edit で開いて source の前に # を書き入れる。次のcdの前にも # を入れる。 -np 8 を -np 4 に変更する。MPIMPIと二度続けて書かれている場合はMPI一つにする。そして、 &gt; 以後の記述を &gt; も含めて削除。<br />
&nbsp; H. job-file menu で run<br />
&nbsp;&nbsp; (上手く動かない場合は、コンソールやターミナルで、計算する系のフォルダに入り、case_SCF.job や case_XAS.job のコマンドを入力すればよい)<br />
出力ファイルは、case.job.out となる。<br />
8) SCF計算が済んだら、右側にある files を押す。<br />
&nbsp;&nbsp; A. select | edit file で case.pot_new を押す。<br />
&nbsp;&nbsp; B. move の隣にある to の右に case.pot と入力して move を押す。<br />
&nbsp;&nbsp; C. continue move<br />
以上で、SCF計算で新しく生成されたポテンシャルファイルを入力ファイルにできる。<br />
9) 上記6)から再び続け、DOSやXASを計算させる<br />
10) select and run program package で PLOTを選択<br />
&nbsp;&nbsp; A. 左の欄から計算した系のファイルを選択する<br />
&nbsp;&nbsp; B. 右の欄で計算したいファイルを選択する<br />
&nbsp;&nbsp; C. 最も右の欄に結果をプロットできるファイルが出来る<br />
&nbsp; xmgrace がある場合は、図が表示される<br />
11) その他の使い方<br />
------------------------------------------------------------------------------<br />
■ Abinit<br />
<br />
-----<br />
◆ Corei7 Inte Fortran (composer_xe_2013.3.163)<br />
CentOS6.4 (Final)<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
Abinit-7.8.1 + openmpi1.4.5<br />
<br />
<code>./configure <span style="font-family: sans-serif;">--with-fc-vendor=intel </span></code>--with-fc-version=13.1 FC=mpif90 CC=mpicc CXX=mpicxx<code> </code>--enable-mpi --enable-64bit-flags <code>--with-trio-flavor=&quot;</code>netcdf+etsf_io+fox<code>&quot; --with-dft-flavor=&quot;</code>atompaw+bigdft+libxc+wannier90<code>&quot; --with-linalg-flavor=&quot;mkl&quot; --with-linalg-libs=&quot;</code>-L/opt/intel/composer_xe_2013/mkl/lib/intel64<code><span style="font-family: sans-serif;"> </span></code><code>-lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lmkl_blas95_lp64 -lmkl_lapack95_lp64&quot; --with-fft-flavor=&quot;fftw3-mkl&quot; --with-fft-libs=&quot;</code>-L/opt/intel/composer_xe_2013/mkl<code>/interfaces/fftw3xf -lfftw3xf_intel&quot;</code> fcflags_opt_66_wfs=&quot;-O1 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp&quot; --with-mpi-incs=&quot;-I/usr/local/openmpi/include&quot; --with-mpi-libs=&quot;-L/usr/local/openmpi/lib&quot;<br />
<br />
make mj4<br />
<br />
su<br />
<br />
make install<br />
----<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 8.47 s (average time for test = 2.32 s, stdev = 2.23 s)<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case: </code><br />
Test suite completed in 71.20 s (average time for test = 1.51 s, stdev = 4.01 s)<br />
<br />
-----<br />
◆ Corei7 Inte Fortran (composer_xe_2013.3.163)<br />
CentOS6.4 (Final)<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
Abinit-7.8.1 + openmpi1.4.5<br />
<br />
<code>./configure <span style="font-family: sans-serif;">--with-fc-vendor=intel </span></code>--with-fc-version=13.1 FC=mpif90 CC=mpicc CXX=mpicxx<code> </code>FCFLAGS_OPTIM=&quot;-O2 -axAVX2,AVX,SSE4.2,SSE4.1,SSE3,SSSE3,SSE2 -no-ipo&quot; --enable-mpi --enable-64bit-flags <code>--with-trio-flavor=&quot;</code>netcdf+etsf_io+fox<code>&quot; --with-dft-flavor=&quot;</code>atompaw+bigdft+libxc+wannier90<code>&quot; --with-linalg-flavor=&quot;mkl&quot; --with-linalg-libs=&quot;</code>-L/opt/intel/composer_xe_2013/mkl/lib/intel64<code><span style="font-family: sans-serif;"> </span></code><code>-lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lmkl_blas95_lp64 -lmkl_lapack95_lp64&quot; --with-fft-flavor=&quot;fftw3-mkl&quot; --with-fft-libs=&quot;</code>-L/opt/intel/composer_xe_2013/mkl<code>/interfaces/fftw3xf -lfftw3xf_intel&quot;</code> fcflags_opt_66_wfs=&quot;-O1 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp&quot; --with-mpi-incs=&quot;-I/usr/local/openmpi/include&quot; --with-mpi-libs=&quot;-L/usr/local/openmpi/lib&quot;<br />
<br />
make mj4<br />
<br />
su<br />
<br />
make install<br />
----<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 9.73 s (average time for test = 2.64 s, stdev = 2.19 s)<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case:</code><br />
Test suite completed in 69.64 s (average time for test = 1.48 s, stdev = 3.95 s)<br />
this setting show passed: absolute error and relative error in some case !<br />
----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 7.8.1 ( with all plugins + openmpi or mpich2 ) under a fresh CentOS 6.4 (x86_64) :<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch</code></dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd><code>#enable_fallbacks=&quot;no&quot;<br />
	enable_exports=&quot;yes&quot;<br />
	#enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc=&quot;yes&quot;<br />
	enable_mpi=&quot;yes&quot;<br />
	enable_mpi_io=&quot;yes&quot;<br />
	enable_64bit_flags=&quot;yes&quot;<br />
	with_mpi_prefix=&quot;/usr/lib64/openmpi&quot;<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />
	with_linalg_flavor=&quot;atlas&quot;<br />
	with_linalg_libs=&quot;-L/usr/lib64/atlas -llapack -lf77blas -lcblas -latlas&quot;<br />
	with_fft_flavor=&quot;fftw3&quot;<br />
	with_fft_incs=&quot;-I/usr/include/&quot;<br />
	with_fft_libs=&quot;-L/usr/lib64 -lfftw3 -lfftw3f&quot;<br />
	#with_netcdf_incs=&quot;-I/usr/lib64/gfortran/modules&quot;<br />
	#with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />
	#with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	#with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</code></dd>
</dl>

<p><code>./bashrc<br />
export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
---<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 10.98 s (average time for test = 2.92 s, stdev = 2.87 s)<br />
t14: absolute error<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case: </code><br />
Test suite completed in 102.72 s (average time for test = 2.22 s, stdev = 5.68 s)<br />
t60, t53, t59, t73: absolute error<br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 7.8.1 ( with all plugins + openmpi or mpich2 ) under a fresh CentOS 6.4 (x86_64) :<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
FFTW-3.3.4<br />
<br />
FFTW3.3.4<br />
tar zxvf fftw-3.3.4.tar.gz<br />
cd fftw-3.3.4<br />
./configure F77=&quot;gfortran -m64 -mtune=native -march=native&quot; CC=&quot;gcc -m64 -mtune=native -march=native&quot; MPICC=&quot;mpicc -m64 -mtune=native -march=native&quot; --enable-silent-rules --enable-sse2 --enable-avx --enable-mpi --enable-openmp --enable-threads --enable-single&nbsp; --prefix=&quot;/usr/local/lib64/gnu/fftw/3.3.4/&quot;<br />
make<br />
su<br />
make install<br />
---MEMO---<br />
--enable-double: fftw3<br />
--enable-single: fftw3f<br />
--enable-long-double: fftw3l<br />
------------<br />
<br />
Abinit 7.8.1</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch</code></dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd><code>#enable_fallbacks=&quot;no&quot;<br />
	enable_exports=&quot;yes&quot;</code><br />
	#enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc=&quot;yes&quot;<br />
	enable_mpi=&quot;yes&quot;<br />
	enable_mpi_io=&quot;yes&quot;<br />
	enable_64bit_flags=&quot;yes&quot;<br />
	with_mpi_prefix=&quot;/usr/lib64/openmpi&quot;<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />
	with_linalg_flavor=&quot;atlas&quot;<br />
	with_linalg_libs=&quot;-L/usr/lib64/atlas -llapack -lf77blas -lcblas -latlas&quot;<br />
	with_fft_flavor=&quot;fftw3-mpi&quot;<br />
	with_fft_incs=&quot;-I/usr/local/lib64/gnu/fftw/3.3.4/include&quot;<br />
	with_fft_libs=&quot;-L/usr/local/lib64/gnu/fftw/3.3.4/lib -lfftw3f_omp -lfftw3f_mpi -lfftw3_threads -lfftw3f -lfftw3_omp -lfftw3_mpi -lfftw3_threads -lfftw3&quot;<br />
	#with_netcdf_incs=&quot;-I/usr/lib64/gfortran/modules&quot;<br />
	#with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />
	#with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	#with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</dd>
</dl>

<p><code>./bashrc<br />
export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
---<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 11.05 s (average time for test = 3.00 s, stdev = 2.64 s)<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case: </code><br />
Test suite completed in 99.62 s (average time for test = 2.12 s, stdev = 5.41 s)<br />
t54, t53, t60, t73, absolute error<br />
<br />
<a href="http://www.openmx-square.org/openmx_man3.7jp/node15.html">http://www.openmx-square.org/openmx_man3.7jp/node15.html</a><br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 7.8.1 ( with all plugins + openmpi or mpich2 ) under a fresh CentOS 6.4 (x86_64) :<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
FFTW3.3.4 + atlas + openmp<br />
<br />
FFTW3.3.4<br />
tar zxvf fftw-3.3.4.tar.gz<br />
cd fftw-3.3.4<br />
./configure F77=&quot;gfortran -m64 -mtune=native -march=native&quot; CC=&quot;gcc -m64 -mtune=native -march=native&quot; MPICC=&quot;mpicc -m64 -mtune=native -march=native&quot; --enable-silent-rules --enable-sse2 --enable-avx --enable-mpi --enable-openmp --enable-threads --enable-single&nbsp; --prefix=&quot;/usr/local/lib64/gnu/fftw/3.3.4/&quot;<br />
make<br />
su<br />
make install<br />
---MEMO---<br />
--enable-double: fftw3<br />
--enable-single: fftw3f<br />
--enable-long-double: fftw3l<br />
------------<br />
<br />
Abinit 7.8.1<br />
&nbsp;</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch</code></dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd>#enable_fallbacks=&quot;no&quot;<br />
	#enable_exports=&quot;yes&quot;<br />
	#enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc=&quot;yes&quot;<br />
	enable_openmp=&quot;yes&quot;<br />
	enable_mpi=&quot;yes&quot;<br />
	enable_mpi_io=&quot;yes&quot;<br />
	enable_64bit_flags=&quot;yes&quot;<br />
	with_mpi_prefix=&quot;/usr/lib64/openmpi&quot;<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />
	with_linalg_flavor=&quot;atlas&quot;<br />
	with_linalg_libs=&quot;-L/usr/lib64/atlas -llapack -lf77blas -lcblas -latlas&quot;<br />
	with_fft_flavor=&quot;fftw3-mpi&quot;<br />
	with_fft_incs=&quot;-I/usr/local/lib64/gnu/fftw/3.3.4/include&quot;<br />
	with_fft_libs=&quot;-L/usr/local/lib64/gnu/fftw/3.3.4/lib -lfftw3f_omp -lfftw3f_mpi -lfftw3_threads -lfftw3f -lfftw3_omp -lfftw3_mpi -lfftw3_threads -lfftw3&quot;<br />
	#with_netcdf_incs=&quot;-I/usr/lib64/gfortran/modules&quot;<br />
	#with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />
	#with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	#with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</dd>
</dl>

<p><code>./bashrc<br />
export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
---<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<a href="http://www.openmx-square.org/openmx_man3.7jp/node15.html">http://www.openmx-square.org/openmx_man3.7jp/node15.html</a><br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 7.8.1 ( with all plugins + openmpi or mpich2 ) under a fresh CentOS 6.4 (x86_64) :<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
Atlas + fftw-3.3.4<br />
<br />
FFTW3.3.4<br />
tar zxvf fftw-3.3.4.tar.gz<br />
cd fftw-3.3.4<br />
./configure F77=&quot;gfortran -m64 -mtune=native -march=native&quot; CC=&quot;gcc -m64 -mtune=native -march=native&quot; MPICC=&quot;mpicc -m64 -mtune=native -march=native&quot; --enable-silent-rules --enable-sse2 --enable-avx --enable-mpi --enable-openmp --enable-threads --enable-single&nbsp; --prefix=&quot;/usr/local/lib64/gnu/fftw/3.3.4/&quot;<br />
make<br />
su<br />
make install</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install atlas-sse3<br />
	yum install atlas-sse3-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch<br />
	yum install blas<br />
	yum install blas-devel<br />
	yum install lapack<br />
	yum install lapack-devel</code></dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd>#enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc=&quot;yes&quot;<br />
	enable_mpi=&quot;yes&quot;<br />
	enable_mpi_io=&quot;yes&quot;<br />
	enable_64bit_flags=&quot;yes&quot;<br />
	with_mpi_prefix=&quot;/usr/lib64/openmpi&quot;<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />
	with_linalg_flavor=&quot;atlas&quot;<br />
	with_linalg_libs=&quot;-L/usr/lib64/atlas -llapack -lf77blas -lcblas -latlas -L/usr/lib64 -lblas -llapack&quot;<br />
	with_fft_flavor=&quot;fftw3-mpi&quot;<br />
	with_fft_incs=&quot;-I/usr/local/lib64/gnu/fftw/3.3.4/include&quot;<br />
	with_fft_libs=&quot;-L/usr/local/lib64/gnu/fftw/3.3.4/lib -lfftw3f_omp -lfftw3f_mpi -lfftw3_threads -lfftw3f -lfftw3_omp -lfftw3_mpi -lfftw3_threads -lfftw3&quot;<br />
	#with_netcdf_incs=&quot;-I/usr/lib64/gfortran/modules&quot;<br />
	#with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />
	#with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	#with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</dd>
</dl>

<p><code>./bashrc<br />
export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
---<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 10.42 s (average time for test = 2.78 s, stdev = 2.68 s)<br />
t14, absolute error<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case: </code><br />
Test suite completed in 99.75 s (average time for test = 2.14 s, stdev = 5.45 s)<br />
t54, t53, t60, t59, t73, absolute error<br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 7.8.1 ( with all plugins + openmpi or mpich2 ) under a fresh CentOS 6.4 (x86_64) :<br />
Inel(R) Core(TM) i7-2600K CPU @ 3.40 GHz<br />
Atlas-sse3 + fftw-3.3.4<br />
<br />
FFTW3.3.4<br />
tar zxvf fftw-3.3.4.tar.gz<br />
cd fftw-3.3.4<br />
./configure F77=&quot;gfortran -m64 -mtune=native -march=native&quot; CC=&quot;gcc -m64 -mtune=native -march=native&quot; MPICC=&quot;mpicc -m64 -mtune=native -march=native&quot; --enable-silent-rules --enable-sse2 --enable-avx --enable-mpi --enable-openmp --enable-threads --enable-single&nbsp; --prefix=&quot;/usr/local/lib64/gnu/fftw/3.3.4/&quot;<br />
make<br />
su<br />
make install</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install atlas-sse3<br />
	yum install atlas-sse3-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch<br />
	yum install blas<br />
	yum install blas-devel<br />
	yum install lapack<br />
	yum install lapack-devel</code><br />
	&nbsp;</dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd>#enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc=&quot;yes&quot;<br />
	enable_mpi=&quot;yes&quot;<br />
	enable_mpi_io=&quot;yes&quot;<br />
	enable_64bit_flags=&quot;yes&quot;<br />
	with_mpi_prefix=&quot;/usr/lib64/openmpi&quot;<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />
	with_linalg_flavor=&quot;atlas&quot;<br />
	with_linalg_libs=&quot;-L/usr/lib64/atlas-sse3 -llapack -lf77blas -lcblas -latlas -L/usr/lib64 -lblas -llapack&quot;<br />
	with_fft_flavor=&quot;fftw3-mpi&quot;<br />
	with_fft_incs=&quot;-I/usr/local/lib64/gnu/fftw/3.3.4/include&quot;<br />
	with_fft_libs=&quot;-L/usr/local/lib64/gnu/fftw/3.3.4/lib -lfftw3f_omp -lfftw3f_mpi -lfftw3_threads -lfftw3f -lfftw3_omp -lfftw3_mpi -lfftw3_threads -lfftw3&quot;<br />
	#with_netcdf_incs=&quot;-I/usr/lib64/gfortran/modules&quot;<br />
	#with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />
	#with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	#with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</dd>
</dl>

<p><code>./bashrc<br />
export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
---<br />
<br />
<code>cd tests<br />
./runtests.py -j 4 fast</code><br />
<code>./runtests.py paral -n 2 -j 2</code><br />
<br />
<code>./runtests.py -j 4 fast case:</code><br />
Test suite completed in 10.43 s (average time for test = 2.85 s, stdev = 2.69 s)<br />
t14, absolute error<br />
<br />
<code>./runtests.py paral -n 2 -j 2 case: </code><br />
Test suite completed in 100.57 s (average time for test = 2.14 s, stdev = 5.44 s)<br />
t54, t53, t60, t59, t73, absolute error<br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529">http://forum.abinit.org/viewtopic.php?f=2&amp;t=1452&amp;p=4529&amp;hilit=binaries#p4529</a><br />
compile abinit 6.12.x ( with all plugins + openmpi or mpich2 ) under a fresh Fedora Core 16 (x86_64) :<br />
openmpi 1.4.3</p>

<dl class="codebox">
	<dd><code>yum install gcc-gfortran.x86_64<br />
	yum install netcdf<br />
	yum install netcdf-devel<br />
	yum install atlas<br />
	yum install atlas-devel<br />
	yum install fftw3<br />
	yum install fftw3-devel<br />
	yum install openmpi<br />
	yum install openmpi-devel<br />
	yum install mpich2<br />
	yum install mpich2-devel<br />
	yum install libxc<br />
	yum install libxc-devel<br />
	yum install patch</code></dd>
</dl>

<p>create a file &quot;build.ac&quot; with these lines :</p>

<dl class="codebox">
	<dd><code>#enable_fallbacks=&quot;no&quot;<br />
	enable_exports=&quot;yes&quot;<br />
	enable_pkg_check=&quot;yes&quot;<br />
	enable_gw_dpc = yes<br />
	enable_mpi = yes<br />
	enable_mpi_io = yes<br />
	with_mpi_prefix = /usr/lib64/openmpi<br />
	with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />
	with_dft_flavor = atompaw+bigdft+libxc+wannier90<br />
	with_linalg_flavor = atlas<br />
	with_linalg_libs = -L/usr/lib64/atlas -llapack -lf77blas -lcblas -latlas<br />
	with_fft_flavor = fftw3<br />
	with_fft_incs = -I/usr/include/<br />
	with_fft_libs = -L/usr/lib64 -lfftw3<br />
	with_netcdf_incs = -I/usr/lib64/gfortran/modules<br />
	with_netcdf_libs = -L/usr/lib64 -lnetcdf -lnetcdff<br />
	with_libxc_incs=&quot;-I/usr/include -I/usr/lib64/gfortran/modules&quot;<br />
	with_libxc_libs=&quot;-L/usr/lib64 -lxc&quot;</code></dd>
</dl>

<p><code>export PATH=/usr/lib64/openmpi/bin/:$PATH<br />
export LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:$LD_LIBRARY_PATH<br />
<br />
./configure --with-config-file=./build.ac<br />
make mj4<br />
make install</code><br />
<br />
If you wish to dicuss about a problem when building BigDFT, I suggest you to open a new topic and attach BigDFT&#39;s config.log (found in plugins/bigdft/bigdft-x.y.z.a/) to your message.<br />
<br />
-----<br />
◆ <a href="http://forum.abinit.org/viewtopic.php?f=3&amp;t=2071&amp;p=7264&amp;hilit=acml#p7264">http://forum.abinit.org/viewtopic.php?f=3&amp;t=2071&amp;p=7264&amp;hilit=acml#p7264</a><br />
Linux 6.4, Intel Parallel Studio XE 2013 Update 3, OpenMPI-1.6.4.</p>

<dl class="codebox">
	<dd><code>./configure FC=/usr/local/bin/mpif90 CC=icc --with-trio-flavor=&quot;none&quot; --with-dft-flavor=&quot;none&quot; --with-linalg-flavor=&quot;mkl&quot; --with-linalg-libs=&quot;-L/opt/intel/mkl/lib/intel64/ -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lmkl_blas95_lp64 -lmkl_lapack95_lp64&quot; --with-linalg-incs=&quot;-I/opt/intel/mkl/lib/intel64/&quot; --enable-mpi --with-fft-flavor=&quot;fftw3-mkl&quot; --with-fft-incs=&quot;-I/opt/intel/mkl/include/fftw&quot; --with-fft-libs=&quot;-L/opt/intel/mkl/interfaces/fftw3xf -lfftw3xf_intel&quot;</code></dd>
</dl>

<p>/opt/intel/mkl/interfaces/fftw3xf<br />
<code>make libintel64 compiler=intel</code><br />
<br />
create a file &quot;build.ac&quot; with these lines :<br />
<br />
<code>enable_gw_dpc = yes<br />
enable_mpi = yes<br />
enable_mpi_io = yes<br />
with_mpi_prefix = /usr/local/openmpi_intel13<br />
with_dft_flavor = atompaw+bigdft+libxc+wannier90<br />
with_trio_flavor = netcdf+etsf_io+fox<br />
fcflags_opt_66_wfs = -O1 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />
with_fft_flavor = fftw3<br />
with_fft_libs = -L/opt/intel/composer_xe_2013.3.163/mkl/lib/intel64 -Wl,--start-group&nbsp; -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group<br />
with_linalg_flavor = mkl<br />
with_linalg_libs = -L/opt/intel/composer_xe_2013.3.163/mkl/lib/intel64 -Wl,--start-group&nbsp; -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group</code><br />
<br />
<code>./configure --with-config-file=./build.ac</code><br />
<br />
-----<br />
------------------------------------------------------------------------------<br />
■ PWscf<br />
<br />
◆ gfortran<br />
OpenMPI + FFTW3<br />
1) tar zxvf expresso-4.3.2.tar.gz<br />
2) cd expresso-4.3.2<br />
3) export CXX=&quot;g++ -m64&quot;<br />
export CC=&quot;gcc -m64&quot;<br />
export FC=&quot;gfortran -m64&quot;<br />
export F77=&quot;gfortran -m64&quot;<br />
export F90=&quot;gfortran -m64&quot;<br />
4) ./configure MPIF90=&quot;/usr/bin/mpif90 -m64&quot; --enable-openmp --with-internal-blas --with-internal-lapack FFT_LIBS=&quot;-L/usr/lib64 -lfftw3&quot;<br />
5) make all<br />
実行方法<br />
/usr/bin/mpirun.openmpi -machinefile /home/*/hosts -np 4 /home/*/espresso-4.3.2/bin/pw.x &lt;atom.in&gt; atom.out<br />
<br />
-----<br />
◆ ifort<br />
OpenMPI ＋ OpenMP + MKL + FFTW3<br />
1) tar zxvf expresso-4.3.2.tar.gz<br />
2) cd expresso-4.3.2<br />
3) ./configure MPIF90=mpif90 CXX=g++ CC=gcc FC=ifort F77=ifort F90=ifort --enable-openmp BLAS_LIBS=&quot;-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t -lmkl_blas95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm&quot; LAPACK_LIBS=&quot;-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t -lmkl_lapack95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm&quot; FFT_LIBS=&quot;/opt/intel/composer_xe_2013/mkl/interfaces/fftw3xf/libfftw3xf_intel.a&quot; FFLAGS=&quot;-O2 -assume byterecl -g -traceback -par-report0 -vec-report0 -axAVX,SSE4.2,SSE4.1,SSSE3,SSE3 -mcmodel=large -i-dynamic -no-ipo&quot; CFLAGS=&quot;-O3 -m64&quot;<br />
4) make all<br />
実行方法<br />
1) export OMP_NUM_THREADS=2 を .bashrc に書き入れる。<br />
2) /usr/local/openmpi/bin/mpirun -machinefile /home/*/hosts -np 4 /home/*/espresso-4.3.2/bin/pw.x &lt;atom.in&gt; atom.out<br />
以上で、4 CPU * 2 threads = 8 processor cores の動作となる。<br />
<br />
-----<br />
■ PWgui<br />
1) download: <a href="http://www-k3.ijs.si/kokalj/pwgui/download.html">http://www-k3.ijs.si/kokalj/pwgui/download.html</a>&nbsp;<br />
2) tar zxvf pwgui-4.3-linux-x86_64.tgz<br />
<br />
-----<br />
◆ gfortran<br />
OpenMPI + FFTW3<br />
1) tar zxvf expresso-5.1.tar.gz<br />
2) cd expresso-*<br />
3) tar zxvf tddfpt*<br />
&nbsp; tar zxvf pwcond*<br />
&nbsp; tar zxvf atomic*<br />
&nbsp; tar zxvf GWW*<br />
&nbsp; tar zxvf PWgui*<br />
&nbsp; tar zxvf PHonon*<br />
&nbsp; tar zxvf neb*<br />
&nbsp; tar zxvf xspectra*<br />
4) export CXX=&quot;g++ -m64&quot;<br />
export CC=&quot;gcc -m64&quot;<br />
export FC=&quot;gfortran -m64&quot;<br />
export F77=&quot;gfortran -m64&quot;<br />
export F90=&quot;gfortran -m64&quot;<br />
5) ./configure MPIF90=&quot;/usr/bin/mpif90 -m64&quot; --enable-openmp --with-internal-blas --with-internal-lapack FFT_LIBS=&quot;-L/usr/lib64 -lfftw3&quot;<br />
6) make all<br />
実行方法<br />
1) export OMP_NUM_THREADS=2 を .bashrc に書き入れる。<br />
2) /usr/local/openmpi/bin/mpirun -machinefile /home/*/hosts -np 4 /home/*/espresso-5.1/bin/pw.x &lt;atom.in&gt; atom.out<br />
以上で、4 CPU * 2 threads = 8 processor cores の動作となる。<br />
◆&nbsp; PWgui-5.1 ( unsuccessful !)<br />
1) download: <a href="http://www.activestate.com/activetcl/downloads/">http://www.activestate.com/activetcl/downloads/</a><br />
2) 8.4.20.0, Linux(x86_64), AS Package<br />
3) tar zxvf Active*<br />
4) cd Active*<br />
5) su<br />
6) ./install.sh<br />
7) Next &gt; I accept the terms in the license Agreement &gt; Next &gt; all Next&gt; Finish<br />
<br />
■ PWgui<br />
1) download: <a href="http://www-k3.ijs.si/kokalj/pwgui/download.html">http://www-k3.ijs.si/kokalj/pwgui/download.html</a><br />
2) tar zxvf pwgui-5.0.2-linux-x86_64.tgz<br />
<br />
-----<br />
◆ ifort<br />
OpenMPI ＋ OpenMP + MKL + FFTW3<br />
1) tar zxvf expresso-5.1.tar.gz<br />
2) cd expresso-*<br />
3) tar zxvf tddfpt*<br />
&nbsp; tar zxvf pwcond*<br />
&nbsp; tar zxvf atomic*<br />
&nbsp; tar zxvf GWW*<br />
&nbsp; tar zxvf PWgui*<br />
&nbsp; tar zxvf PHonon*<br />
&nbsp; tar zxvf neb*<br />
&nbsp; tar zxvf xspectra*<br />
4) ./configure MPIF90=mpif90 CXX=g++ CC=gcc FC=ifort F77=ifort F90=ifort --enable-openmp BLAS_LIBS=&quot;-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t -lmkl_blas95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm&quot; LAPACK_LIBS=&quot;-L/opt/intel/composer_xe_2013/mkl/lib/intel64/em64t -lmkl_lapack95_lp64 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm&quot; FFT_LIBS=&quot;/opt/intel/composer_xe_2013/mkl/interfaces/fftw3xf/libfftw3xf_intel.a&quot; FFLAGS=&quot;-O2 -assume byterecl -g -traceback -par-report0 -vec-report0 -axAVX,SSE4.2,SSE4.1,SSSE3,SSE3 -mcmodel=large -i-dynamic -no-ipo&quot; CFLAGS=&quot;-O3 -m64&quot;<br />
5) make all<br />
実行方法<br />
1) export OMP_NUM_THREADS=2 を .bashrc に書き入れる。<br />
2) /usr/local/openmpi/bin/mpirun -machinefile /home/*/hosts -np 4 /home/*/espresso-4.3.2/bin/pw.x &lt;atom.in&gt; atom.out<br />
以上で、4 CPU * 2 threads = 8 processor cores の動作となる。<br />
<br />
■ PWgui<br />
1) download: <a href="http://www-k3.ijs.si/kokalj/pwgui/download.html">http://www-k3.ijs.si/kokalj/pwgui/download.html</a><br />
2) tar zxvf pwgui-5.0.2-linux-x86_64.tgz<br />
<br />
■ QE-Abinit<br />
0) su<br />
&nbsp;&nbsp;&nbsp; yum install patch<br />
1) download: http://qe-forge.org/gf/project/q-e/frs/?action=FrsReleaseBrowse&amp;frs_package_id=32<br />
2) tar zxvf QE-ABINIT.tar.gz<br />
3) Please, see 入力ファイルのQ&amp;A<br />
<br />
------------------------------------------------------------------------------<br />
■ uncheck demon<br />
1) System &gt; Preference &gt; Startup Applications<br />
2) uncheck<br />
&nbsp; Automatic Bug Reporting Tool<br />
&nbsp; GNOME Login Sound<br />
&nbsp; PackageKit Update Applet<br />
&nbsp; Power Manager<br />
&nbsp; Print Queue Applet<br />
&nbsp; PulseAudio Sound system<br />
&nbsp; Remote Desktop<br />
&nbsp; Screensaver<br />
------------------------------------------------------------------------------</p>
