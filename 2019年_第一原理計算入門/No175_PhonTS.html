PhonTS (http://phonts.mse.ufl.edu/)<br />
------------------------------------------------------------------------------<br />
■ PhonTS<br />
(https://sites.google.com/a/mst.edu/aleksandr-chernatynskiy/phonts)<br />
<br />
□ Registration<br />
1. send e-mail (to aleksandrc@mst.edu)<br />
-----<br />
Title:&nbsp;<br />
Registration for PhonTS<br />
<br />
Body:<br />
Dear Dr. Aleksandr Chernatynskiy&nbsp;<br />
&nbsp;&nbsp;<br />
&nbsp; Please provide me the required password key if possible.&nbsp;<br />
&nbsp; My registration information is summarized below as requested:&nbsp;<br />
<br />
&nbsp; 1. Manabu Inukai&nbsp;<br />
&nbsp; 2. RIKEN Baton Zone Program&nbsp;<br />
&nbsp; &nbsp; 2-1 Hirosawa, Wako-shi, saitama 351-0198, JAPAN&nbsp;<br />
&nbsp; 3. My Research Field: Thermoelectric materials and Hydrogen storage&nbsp;<br />
&nbsp; &nbsp; IR and Raman calculation&nbsp;<br />
<br />
Best Regards,<br />
XXXX XXXXX<br />
-----<br />
2. wait for a long time until you receive E-mail.<br />
3. you can get password.<br />
※ I would get reply next day.<br />
<br />
<br />
□ Install (gfortran)<br />
・PhonTS-2.0.0.zip<br />
0. sudo apt-get update<br />
&nbsp; sudo apt-get install libatlas-base-dev liblapack-dev libblas-dev<br />
1. unzip PhonTS-2.0.0.zip<br />
&nbsp; (input pasword)<br />
2. tar xvf PhonTS-2.0.0.tar<br />
3. cd PhonTS-2.0.0<br />
4. cd src<br />
5. patch -p1 &lt; Phonts.gnu.patch<br />
&nbsp; -----<br />
&nbsp; patching file D0_interface.f90<br />
&nbsp; patching file D1_interface.f90<br />
&nbsp; patching file integral.f90<br />
&nbsp; patching file memory.f90<br />
&nbsp; -----<br />
6. cp Makefile_gnu Makefile<br />
7. gedit Makefile<br />
-----before<br />
#### &nbsp; Your favorite fortran compiler<br />
FF &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp;mpif90<br />
LD &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; $(FF)<br />
<br />
#### &nbsp; Compilation flag: -autodouble is the only one very important here<br />
FFLAGS &nbsp; &nbsp;= &nbsp; -freal-4-real-8 -ffree-line-length-none<br />
<br />
#### &nbsp; Linking flags - for the LAPACK library. This is 10.0.011 setup<br />
LDFLAGS &nbsp; = &nbsp; -L /opt/atlas/gnu/lib/ -llapack -lf77blas -lcblas -latlas<br />
<br />
#### &nbsp; Optimization flags<br />
(Build): &nbsp; &nbsp; &nbsp; &nbsp;FFLAGS += -O3<br />
<br />
#### &nbsp; Debugging flags<br />
debug: &nbsp;FFLAGS += -g -pg -check all -traceback -w -fpe0<br />
-----<br />
-----after<br />
#### &nbsp; Your favorite fortran compiler<br />
FF &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp;mpif90<br />
LD &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; $(FF)<br />
<br />
#### &nbsp; Compilation flag: -autodouble is the only one very important here<br />
FFLAGS &nbsp; &nbsp;= &nbsp; -fdefault-double-8 -fdefault-real-8 -ffree-line-length-none<br />
<br />
#### &nbsp; Linking flags - for the LAPACK library. This is 10.0.011 setup<br />
LDFLAGS &nbsp; = &nbsp; -L/usr/lib/x86_64-linux-gnu -llapack -lf77blas -lcblas -latlas<br />
<br />
#### &nbsp; Optimization flags<br />
(Build): &nbsp; &nbsp; &nbsp; &nbsp;FFLAGS += -O3<br />
<br />
#### &nbsp; Debugging flags<br />
debug: &nbsp;FFLAGS += -g -pg -check all -traceback -w -fpe0<br />
-----<br />
8. make<br />
<br />
□ Install (ifort) (no check)<br />
・PhonTS-2.0.0.zip<br />
1. unzip PhonTS-2.0.0.zip<br />
&nbsp; (input pasword)<br />
2. tar xvf PhonTS-2.0.0.tar<br />
3. cd PhonTS-2.0.0<br />
4. cd src<br />
5. cp Makefile_ifort Makefile<br />
6. make<br />
<br />
<br />
□ Examples (Ar)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd argon<br />
&nbsp; (phonons_input.dat)<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
4. gnuplot<br />
&nbsp; set xrange [-1:14]<br />
&nbsp; set xlable &quot;THz&quot;<br />
&nbsp; set ylabel &quot;PDOS&quot;<br />
&nbsp; plot &quot;pdos.dat&quot; u 1:4 w l<br />
5. q<br />
※ therm_cond.dat, tc_dos.dat<br />
<br />
□ Examples (VCA)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd VCA<br />
&nbsp; (phonons_input.dat)<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
4. gnuplot<br />
&nbsp; set xrange [-1:14]<br />
&nbsp; set xlable &quot;THz&quot;<br />
&nbsp; set ylabel &quot;PDOS&quot;<br />
&nbsp; plot &quot;pdos.dat&quot; u 1:4 w l<br />
5. q<br />
※ therm_cond.dat, tc_dos.dat<br />
<br />
□ Examples (QHA)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd QHA<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
<br />
□ Examples (Optimization)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd Optimization<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
<br />
□ Examples (PDOS)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd PDOS<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
4. gnuplot<br />
&nbsp; set xrange [-1:14]<br />
&nbsp; set xlable &quot;THz&quot;<br />
&nbsp; set ylabel &quot;PDOS&quot;<br />
&nbsp; plot &quot;pdos.dat&quot; u 1:4 w l<br />
5. q<br />
<br />
□ Examples (Lammps) (failed)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd LAMMPS/PhonTS<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
&nbsp; mv &#39; 1_p3_1_O0_MgO_4.2127.str&#39; 1_p3_1_O0_MgO_4.2127.str<br />
&nbsp; mv &#39; 5_p3_1_O0_MgO_4.2127.str&#39; 5_p3_1_O0_MgO_4.2127.str<br />
----------<br />
4. cd ~/PhonTS-2.0.0/examples<br />
5. cd LAMMPS/LAMMPS<br />
6. chmod +x prep_script<br />
&nbsp; ./prep_script<br />
7. chmod +x lammps<br />
8. gedit in.GEN<br />
-----before<br />
dump_modify 1 format &quot;%d %30.20f %30.20f %30.20f&quot;<br />
-----<br />
-----after<br />
dump_modify 1 format line &quot;%d %30.20f %30.20f %30.20f&quot;<br />
-----<br />
9. chmod +x submit_script<br />
10. gedit submit_script<br />
-----before<br />
&nbsp; ../lammps &lt; in.MgO &gt; out.dat<br />
-----<br />
-----after<br />
&nbsp; /usr/bin/lammpsl &lt; in.MgO &gt; out.dat<br />
-----<br />
11. ./submit_script<br />
12. chmod +x post_script<br />
13. gedit post_script<br />
-----before<br />
cp 4.2127.dir/out.dat ../PhonTS/4.2127.out<br />
-----<br />
-----after<br />
cp 4.2127MgO.dir/out.dat ../PhonTS/4.2127MgO.out<br />
-----<br />
14. ./post_script<br />
----------<br />
15. cd ~/PhonTS-2.0.0/examples<br />
16. cd LAMMPS/PhonTS<br />
17. &nbsp; mv 1_p3_1_O0_MgO_4.2127.out &#39; 1_p3_1_O0_MgO_4.2127.out&#39;&nbsp;<br />
&nbsp; mv &nbsp;5_p3_1_O0_MgO_4.2127.out &#39; 5_p3_1_O0_MgO_4.2127.out&#39;<br />
18. gedit phonons_input.dat<br />
-----before<br />
kpoints 15 15 15 1<br />
<br />
AbInitio &nbsp;T F<br />
-----<br />
-----after<br />
points 15 15 15 10<br />
<br />
pdos 0 15 1000 50<br />
<br />
AbInitio &nbsp;F T<br />
-----<br />
19. ~/PhonTS-2.0.0/src/PhonTS<br />
※ ($HOME/lammps/src/lmp_serial &lt; in.MgO &gt; out.dat)<br />
<br />
□ Examples (QE = PWscf) (no check)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd QE/PhonTS<br />
&nbsp; (phonons_input.dat)<br />
3. ~/PhonTS-2.0.0/src/PhonTS<br />
&nbsp; mv &#39; 1_p3_1_O0_MgO_4.2127.str&#39; 1_p3_1_O0_MgO_4.2127.str<br />
&nbsp; mv &#39; 5_p3_1_O0_MgO_4.2127.str&#39; 5_p3_1_O0_MgO_4.2127.str<br />
----------<br />
4. cd ~/PhonTS-2.0.0/examples<br />
5. cd QE/QE<br />
6. chmod +x MgO.QE.scr<br />
7. gedit MgO.QE.scr<br />
-----before<br />
ESPRESSO_DIR=~/espresso-4.3.1<br />
<br />
. $ESPRESSO_DIR/examples/check_failure.sh<br />
<br />
. $ESPRESSO_DIR/examples/environment_variables<br />
<br />
PSEUDO_LIST=&quot;Mg.pw91-np-van.UPF O.pw91-van_ak.UPF&quot;<br />
<br />
ATOMIC_SPECIES<br />
&nbsp;Mg 24.30 Mg.pw91-np-van.UPF<br />
&nbsp;O &nbsp;16.00 O.pw91-van_ak.UPF<br />
-----<br />
ESPRESSO_DIR=~/q-e-qe-6.4.1<br />
<br />
#. $ESPRESSO_DIR/examples/check_failure.sh<br />
<br />
. $ESPRESSO_DIR/environment_variables<br />
BIN_DIR=$ESPRESSO_DIR/bin<br />
PSEUDO_DIR=$ESPRESSO_DIR/pseudo<br />
<br />
PSEUDO_LIST=&quot;Mg.pw91-np-van.UPF O.pw91-van_ak.UPF&quot;<br />
<br />
ATOMIC_SPECIES<br />
&nbsp;Mg 24.30 Mg.pz-n-vbc.UPF<br />
&nbsp;O &nbsp;16.00 O.pz-van_ak.UPF<br />
-----<br />
8. chmod +x prep_script<br />
9. gedit prep_script<br />
-----before<br />
&nbsp; &nbsp; sed s/GENERIC/$i/ &nbsp;&lt; submit.sh &gt; temp<br />
&nbsp; &nbsp; sed s/SCRIPT_NAME/.\\/$i.scr/ &lt; temp &nbsp; &nbsp; &nbsp;&gt; $i.dir/submit.sh<br />
&nbsp; &nbsp;&nbsp;<br />
<br />
&nbsp; done<br />
-----<br />
-----after<br />
&nbsp; &nbsp; sed s/GENERIC/$i/ &nbsp;&lt; submit.sh &gt; temp<br />
&nbsp; &nbsp; sed s/SCRIPT_NAME/.\\/$i.scr/ &lt; temp &nbsp; &nbsp; &nbsp;&gt; $i.dir/submit.sh<br />
<br />
&nbsp; &nbsp; chmod +x $i.dir/submit.sh<br />
<br />
&nbsp; done<br />
-----<br />
10. ./prep_script<br />
11. chmod +x submit_script<br />
12. gedit submit_script<br />
-----before<br />
&nbsp; qsub submit.sh<br />
-----<br />
-----after<br />
&nbsp; ./submit.sh<br />
-----<br />
13. ./submit_script<br />
14. chmod +x post_script<br />
&nbsp; ./post_script<br />
----------<br />
15. cd ~/PhonTS-2.0.0/examples<br />
16. cd QE/PhonTS<br />
17. mv 1_p3_1_O0_MgO_4.2127.out &#39; 1_p3_1_O0_MgO_4.2127.out&#39;&nbsp;<br />
&nbsp; mv 5_p3_1_O0_MgO_4.2127.out &#39; 5_p3_1_O0_MgO_4.2127.out&#39;<br />
18. gedit phonons_input.dat<br />
-----before<br />
temperature 200 1000 17<br />
<br />
AbInitio &nbsp;T F<br />
<br />
ASR_3der T<br />
<br />
new_filename T<br />
-----<br />
-----after<br />
#temperature 200 1000 17<br />
<br />
AbInitio &nbsp;F T<br />
<br />
#ASR_3der T<br />
<br />
#new_filename T<br />
-----<br />
19. ~/PhonTS-2.0.0/src/PhonTS<br />
<br />
□ Examples (QE = PWscf, VCA) (no check)<br />
1. cd ~/PhonTS-2.0.0/examples<br />
2. cd QE_VCA/PhonTS<br />
&nbsp; (phonons_input.dat)<br />
3. mpirun -np 4 ~/PhonTS-2.0.0/src/PhonTS<br />
------------------------------------------------------------------------------<br />
■ PhonTS (aevo_v1_0.tar.gz)&nbsp;<br />
※ aevo_v1_0.tar.gz は容易に手に入るが、Intel fortran + MKL が必要。gfortranではIFPORTのモジュールが無いのとエラーが頻繁に表示され、gfortran用への修正が数日かけても終わらない。<br />
<br />
□ PhonTS (gfortran)(failed)<br />
(http://cpc.cs.qub.ac.uk/summaries/AEVO_v1_0.html)<br />
(https://data.mendeley.com/datasets/vn5wph88hy/1)<br />
・aevo_v1_0.tar.gz<br />
1. tar zxvf aevo_v1_0.tar.gz<br />
2. cd PhonTS-1.1.0<br />
3. cd src<br />
4. gedit Makefile<br />
-----before<br />
#### &nbsp; Your favorite fortran compiler<br />
FF &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; /opt/intel/mpich2-1.4.1p1/bin/mpif90<br />
LD &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; $(FF)<br />
<br />
#### &nbsp; Compilation flag: -autodouble is the only one very important here<br />
FFLAGS &nbsp; &nbsp;= &nbsp; -autodouble -unroll -fno-alias<br />
<br />
#### &nbsp; Linking flags - for the LAPACK library. This is 10.0.011 setup<br />
LDFLAGS &nbsp; = -L/opt/intel/mkl/10.0.011/lib/em64t -Wl,--start-group -lmkl_sequential -lmkl_lapack -lmkl_em64t -lmkl_core -Wl,--end-group<br />
<br />
#### &nbsp; Optimization flags<br />
(Build): &nbsp; &nbsp; &nbsp; &nbsp;FFLAGS += -O3<br />
<br />
#### &nbsp; Debugging flags<br />
debug: &nbsp;FFLAGS += -g -pg -check all -traceback -w -fpe0<br />
-----<br />
-----after<br />
#### &nbsp; Your favorite fortran compiler<br />
FF &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; mpif90<br />
LD &nbsp; &nbsp; &nbsp;= &nbsp; &nbsp; &nbsp; $(FF)<br />
<br />
#### &nbsp; Compilation flag: -autodouble is the only one very important here<br />
FFLAGS &nbsp; &nbsp;= -ffree-line-length-none -fdefault-double-8 -fdefault-real-8 -funroll-loops # -fargument-noalias-global<br />
<br />
#### &nbsp; Linking flags - for the LAPACK library. This is 10.0.011 setup<br />
LDFLAGS &nbsp; = -L/usr/lib/x86_64-linux-gnu -llapack -lblas<br />
<br />
#### &nbsp; Optimization flags<br />
(Build): &nbsp; &nbsp; &nbsp; &nbsp;FFLAGS += -O2<br />
<br />
#### &nbsp; Debugging flags<br />
debug: &nbsp;FFLAGS += -g -pg -fbacktrace -W &quot;-ffpe-trap=invalid,zero,overflow&quot;<br />
-----<br />
5. sed -i &#39;417s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;431s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;447s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1694s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1699s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1702s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1705s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1709s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1712s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1713s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1714s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;1715s/.eq./.eqv./g&#39; input.f90<br />
&nbsp; sed -i &#39;2400s/.eq.1/.eqv..TRUE./g&#39; input.f90<br />
6. make<br />
<br />
□ Examples<br />
1. cd ~/PhonTS-1.1.0/examples/argon<br />
2. ~/PhonTS-1.1.0/src/PhonTS<br />
<br />
[1] Fortranデバッグオプション<br />
&nbsp; http://www.rcs.arch.t.u-tokyo.ac.jp/kusuhara/tips/memorandum/memo1.html<br />
&nbsp; LAPACK Routines<br />
&nbsp; http://www.rcs.arch.t.u-tokyo.ac.jp/kusuhara/tips/memorandum/memo4.html<br />
[2] gfortran(1) - Linux man page<br />
&nbsp; https://linux.die.net/man/1/gfortran<br />
[3] Keyword Index<br />
&nbsp; https://gcc.gnu.org/onlinedocs/gcc-3.3.4/g77/Keyword-Index.html<br />
------------------------------------------------------------------------------<br />
■ PhonTS<br />
(http://phonts.mse.ufl.edu/)<br />
<br />
□ Registration<br />
1. send e-mail (to phonts at mse.ufl.edu)<br />
-----<br />
Title:&nbsp;<br />
Registration for PhonTS<br />
<br />
Body:<br />
Dear developers<br />
<br />
&nbsp; I have read and agree with the terms of the PhonTS GNU General Public License (GPL).&nbsp;<br />
&nbsp; Please provide me the required password key if possible.&nbsp;<br />
&nbsp; My registration information is summarized below as requested:&nbsp;<br />
<br />
&nbsp; 1. XXXX XXXXX<br />
&nbsp; 2. RIKEN Baton Zone Program&nbsp;<br />
&nbsp; &nbsp; 2-1 Hirosawa, Wako-shi, saitama 351-0198, JAPAN&nbsp;<br />
&nbsp; 3. My Research Field: Thermoelectric materials and Hydrogen storage<br />
<br />
Best Regards,&nbsp;<br />
XXXX XXXXX<br />
-----<br />
2. wait for a long time until you receive E-mail.<br />
3. you can get user id and password.<br />
※ I could not get reply.<br />
------------------------------------------------------------------------------<br />
&nbsp;